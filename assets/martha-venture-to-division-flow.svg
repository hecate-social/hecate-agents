<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 920" font-family="monospace" font-size="13">
  <defs>
    <marker id="a-blue" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#6366f1"/>
    </marker>
    <marker id="a-teal" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#2dd4bf"/>
    </marker>
    <marker id="a-green" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#22c55e"/>
    </marker>
    <marker id="a-amber" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#fbbf24"/>
    </marker>
    <marker id="a-rose" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#fb7185"/>
    </marker>
    <marker id="a-purple" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#a855f7"/>
    </marker>
    <marker id="a-gray" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#94a3b8"/>
    </marker>
    <marker id="a-orange" viewBox="0 0 10 6" refX="10" refY="3" markerWidth="10" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3 L0,6 z" fill="#fb923c"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1000" height="920" fill="#0f1117" rx="8"/>

  <!-- Title -->
  <text x="500" y="30" fill="#e2e8f0" font-size="18" font-weight="bold" text-anchor="middle">Venture to Division Flow</text>
  <text x="500" y="48" fill="#64748b" font-size="11" text-anchor="middle">From vision through event storming to division lifecycle</text>

  <!-- ========== PHASE 1: VISION ========== -->
  <rect x="20" y="65" width="960" height="120" rx="6" fill="#1e1b4b" stroke="#6366f1" stroke-width="1.5"/>
  <text x="40" y="88" fill="#a5b4fc" font-size="13" font-weight="bold">Phase 1: Vision</text>
  <text x="200" y="88" fill="#6366f1" font-size="10">(compose_vision/)</text>

  <!-- Vision flow -->
  <rect x="40" y="100" width="170" height="40" rx="4" fill="#312e81" stroke="#818cf8" stroke-width="1"/>
  <text x="125" y="118" fill="#c7d2fe" font-size="11" text-anchor="middle" font-weight="bold">initiate_venture</text>
  <text x="125" y="132" fill="#818cf8" font-size="9" text-anchor="middle">venture_initiated_v1</text>

  <line x1="210" y1="120" x2="240" y2="120" stroke="#6366f1" stroke-width="1.5" marker-end="url(#a-blue)"/>

  <rect x="240" y="100" width="180" height="40" rx="4" fill="#312e81" stroke="#818cf8" stroke-width="1"/>
  <text x="330" y="118" fill="#c7d2fe" font-size="11" text-anchor="middle" font-weight="bold">VisionOracle.svelte</text>
  <text x="330" y="132" fill="#818cf8" font-size="9" text-anchor="middle">AI-assisted vision drafting</text>

  <line x1="420" y1="120" x2="450" y2="120" stroke="#6366f1" stroke-width="1.5" marker-end="url(#a-blue)"/>

  <rect x="450" y="100" width="150" height="40" rx="4" fill="#312e81" stroke="#818cf8" stroke-width="1"/>
  <text x="525" y="118" fill="#c7d2fe" font-size="11" text-anchor="middle" font-weight="bold">refine_vision</text>
  <text x="525" y="132" fill="#818cf8" font-size="9" text-anchor="middle">vision_refined_v1</text>

  <line x1="600" y1="120" x2="630" y2="120" stroke="#6366f1" stroke-width="1.5" marker-end="url(#a-blue)"/>

  <rect x="630" y="100" width="150" height="40" rx="4" fill="#312e81" stroke="#818cf8" stroke-width="1"/>
  <text x="705" y="118" fill="#c7d2fe" font-size="11" text-anchor="middle" font-weight="bold">submit_vision</text>
  <text x="705" y="132" fill="#818cf8" font-size="9" text-anchor="middle">vision_submitted_v1</text>

  <!-- Result badge -->
  <rect x="810" y="105" width="155" height="30" rx="15" fill="#1e1b4b" stroke="#a5b4fc" stroke-width="1.5"/>
  <text x="887" y="125" fill="#c7d2fe" font-size="10" text-anchor="middle">Vision locked in</text>
  <line x1="780" y1="120" x2="810" y2="120" stroke="#a5b4fc" stroke-width="1.5" marker-end="url(#a-blue)"/>

  <!-- ========== PHASE 2: DISCOVERY ========== -->
  <rect x="20" y="200" width="960" height="100" rx="6" fill="#0c4a6e" stroke="#0ea5e9" stroke-width="1.5"/>
  <text x="40" y="223" fill="#7dd3fc" font-size="13" font-weight="bold">Phase 2: Discovery</text>
  <text x="230" y="223" fill="#0ea5e9" font-size="10">(brainstorm_venture_events/)</text>

  <rect x="40" y="235" width="150" height="40" rx="4" fill="#0c4a6e" stroke="#38bdf8" stroke-width="1"/>
  <text x="115" y="253" fill="#bae6fd" font-size="11" text-anchor="middle" font-weight="bold">start_discovery</text>
  <text x="115" y="267" fill="#38bdf8" font-size="9" text-anchor="middle">discovery_started_v1</text>

  <line x1="190" y1="255" x2="220" y2="255" stroke="#0ea5e9" stroke-width="1.5" marker-end="url(#a-teal)"/>

  <rect x="220" y="235" width="240" height="40" rx="4" fill="#0c4a6e" stroke="#38bdf8" stroke-width="1"/>
  <text x="340" y="253" fill="#bae6fd" font-size="11" text-anchor="middle" font-weight="bold">BrainstormVentureEvents.svelte</text>
  <text x="340" y="267" fill="#38bdf8" font-size="9" text-anchor="middle">Brainstorm events, post stickies</text>

  <line x1="460" y1="255" x2="490" y2="255" stroke="#0ea5e9" stroke-width="1.5" marker-end="url(#a-teal)"/>

  <rect x="490" y="235" width="195" height="40" rx="4" fill="#0c4a6e" stroke="#38bdf8" stroke-width="1"/>
  <text x="587" y="253" fill="#bae6fd" font-size="11" text-anchor="middle" font-weight="bold">start_big_picture_storm</text>
  <text x="587" y="267" fill="#38bdf8" font-size="9" text-anchor="middle">big_picture_storm_started_v1</text>

  <line x1="685" y1="255" x2="715" y2="255" stroke="#0ea5e9" stroke-width="1.5" marker-end="url(#a-teal)"/>

  <rect x="715" y="235" width="155" height="40" rx="15" fill="#0c4a6e" stroke="#7dd3fc" stroke-width="1.5"/>
  <text x="792" y="260" fill="#bae6fd" font-size="10" text-anchor="middle">Enters Storm FSM</text>

  <!-- ========== PHASE 3: BIG PICTURE STORM (State Machine) ========== -->
  <rect x="20" y="315" width="960" height="165" rx="6" fill="#422006" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="40" y="338" fill="#fde68a" font-size="13" font-weight="bold">Phase 3: Big Picture Storm (Linear State Machine)</text>
  <text x="455" y="338" fill="#f59e0b" font-size="10">(storm_venture_big_picture/)</text>

  <!-- Storm phases as state machine -->
  <rect x="40" y="350" width="80" height="50" rx="4" fill="#78350f" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="80" y="371" fill="#fde68a" font-size="10" text-anchor="middle" font-weight="bold">storm</text>
  <text x="80" y="387" fill="#fbbf24" font-size="8" text-anchor="middle">post stickies</text>

  <line x1="120" y1="375" x2="150" y2="375" stroke="#fbbf24" stroke-width="1.5" marker-end="url(#a-amber)"/>

  <rect x="150" y="350" width="80" height="50" rx="4" fill="#78350f" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="190" y="371" fill="#fde68a" font-size="10" text-anchor="middle" font-weight="bold">stack</text>
  <text x="190" y="387" fill="#fbbf24" font-size="8" text-anchor="middle">stack stickies</text>

  <line x1="230" y1="375" x2="260" y2="375" stroke="#fbbf24" stroke-width="1.5" marker-end="url(#a-amber)"/>

  <rect x="260" y="350" width="80" height="50" rx="4" fill="#78350f" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="300" y="371" fill="#fde68a" font-size="10" text-anchor="middle" font-weight="bold">groom</text>
  <text x="300" y="387" fill="#fbbf24" font-size="8" text-anchor="middle">refine stacks</text>

  <line x1="340" y1="375" x2="370" y2="375" stroke="#fbbf24" stroke-width="1.5" marker-end="url(#a-amber)"/>

  <rect x="370" y="350" width="80" height="50" rx="4" fill="#78350f" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="410" y="371" fill="#fde68a" font-size="10" text-anchor="middle" font-weight="bold">cluster</text>
  <text x="410" y="387" fill="#fbbf24" font-size="8" text-anchor="middle">group events</text>

  <line x1="450" y1="375" x2="480" y2="375" stroke="#fbbf24" stroke-width="1.5" marker-end="url(#a-amber)"/>

  <rect x="480" y="350" width="80" height="50" rx="4" fill="#78350f" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="520" y="371" fill="#fde68a" font-size="10" text-anchor="middle" font-weight="bold">name</text>
  <text x="520" y="387" fill="#fbbf24" font-size="8" text-anchor="middle">name clusters</text>

  <line x1="560" y1="375" x2="590" y2="375" stroke="#fbbf24" stroke-width="1.5" marker-end="url(#a-amber)"/>

  <rect x="590" y="350" width="80" height="50" rx="4" fill="#78350f" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="630" y="371" fill="#fde68a" font-size="10" text-anchor="middle" font-weight="bold">map</text>
  <text x="630" y="387" fill="#fbbf24" font-size="8" text-anchor="middle">draw arrows</text>

  <line x1="670" y1="375" x2="700" y2="375" stroke="#fbbf24" stroke-width="1.5" marker-end="url(#a-amber)"/>

  <rect x="700" y="350" width="100" height="50" rx="4" fill="#78350f" stroke="#22c55e" stroke-width="2"/>
  <text x="750" y="371" fill="#86efac" font-size="10" text-anchor="middle" font-weight="bold">promoted</text>
  <text x="750" y="387" fill="#4ade80" font-size="8" text-anchor="middle">clusters ready</text>

  <!-- advance_storm_phase label -->
  <text x="400" y="420" fill="#fbbf24" font-size="9" text-anchor="middle">Each transition: advance_storm_phase command / storm_phase_advanced_v1 event</text>

  <!-- Storm result badge -->
  <rect x="830" y="350" width="140" height="50" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="1.5"/>
  <text x="900" y="370" fill="#86efac" font-size="10" text-anchor="middle" font-weight="bold">Event clusters</text>
  <text x="900" y="386" fill="#4ade80" font-size="9" text-anchor="middle">become candidate</text>
  <text x="900" y="398" fill="#4ade80" font-size="9" text-anchor="middle">divisions</text>

  <line x1="800" y1="375" x2="830" y2="375" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>

  <!-- Shelve/Resume/Archive controls -->
  <text x="40" y="460" fill="#a8a29e" font-size="9">Controls: shelve_storm (pause) | resume_storm (unpause) | archive_storm (done)</text>

  <!-- ========== TWO PATHS TO DIVISION ========== -->
  <rect x="20" y="495" width="960" height="150" rx="6" fill="#1a0a0e" stroke="#fb7185" stroke-width="1.5"/>
  <text x="40" y="518" fill="#fda4af" font-size="13" font-weight="bold">Two Paths to Division</text>

  <!-- Path A: Storm promotion -->
  <rect x="40" y="530" width="420" height="50" rx="4" fill="#4c0519" stroke="#f43f5e" stroke-width="1.5"/>
  <text x="250" y="550" fill="#fecdd3" font-size="11" text-anchor="middle" font-weight="bold">Path A: Storm Promotion (automated)</text>
  <text x="250" y="568" fill="#fb7185" font-size="10" text-anchor="middle">promote_event_cluster_v1 / event_cluster_promoted_v1</text>

  <!-- Path B: Manual identification -->
  <rect x="500" y="530" width="420" height="50" rx="4" fill="#4c0519" stroke="#f43f5e" stroke-width="1.5"/>
  <text x="710" y="550" fill="#fecdd3" font-size="11" text-anchor="middle" font-weight="bold">Path B: Manual Identification</text>
  <text x="710" y="568" fill="#fb7185" font-size="10" text-anchor="middle">identify_division_v1 / division_identified_v1</text>

  <!-- Both converge -->
  <line x1="250" y1="580" x2="480" y2="620" stroke="#fb7185" stroke-width="1.5" marker-end="url(#a-rose)"/>
  <line x1="710" y1="580" x2="480" y2="620" stroke="#fb7185" stroke-width="1.5" marker-end="url(#a-rose)"/>

  <!-- Process Manager Bridge -->
  <rect x="300" y="600" width="360" height="40" rx="4" fill="#2e1065" stroke="#a855f7" stroke-width="2"/>
  <text x="480" y="618" fill="#d8b4fe" font-size="11" text-anchor="middle" font-weight="bold">on_division_identified_initiate_division</text>
  <text x="480" y="634" fill="#a855f7" font-size="9" text-anchor="middle">Process Manager (needed -- bridges venture to division)</text>

  <!-- ========== DIVISION ALC CYCLE ========== -->
  <rect x="20" y="660" width="960" height="245" rx="6" fill="#052e16" stroke="#22c55e" stroke-width="1.5"/>
  <text x="40" y="683" fill="#86efac" font-size="13" font-weight="bold">Division Application Lifecycle (ALC)</text>
  <text x="370" y="683" fill="#22c55e" font-size="10">guide_division_alc -- 8 processes in a cycle</text>

  <!-- Division ALC as cycle of 8 phases -->
  <!-- Center point: 500, 805 -->

  <!-- design (top) -->
  <rect x="430" y="700" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="490" y="718" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">design</text>
  <text x="490" y="733" fill="#4ade80" font-size="8" text-anchor="middle">events, aggregates</text>

  <!-- plan (top-right) -->
  <rect x="610" y="720" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="670" y="738" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">plan</text>
  <text x="670" y="753" fill="#4ade80" font-size="8" text-anchor="middle">desks, dependencies</text>

  <!-- craft (right) -->
  <rect x="720" y="780" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="780" y="798" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">craft</text>
  <text x="780" y="813" fill="#4ade80" font-size="8" text-anchor="middle">generate modules</text>

  <!-- debug (bottom-right) -->
  <rect x="680" y="845" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="740" y="863" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">debug</text>
  <text x="740" y="878" fill="#4ade80" font-size="8" text-anchor="middle">test + diagnose</text>

  <!-- deploy (bottom) -->
  <rect x="490" y="865" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="550" y="883" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">deploy</text>
  <text x="550" y="898" fill="#4ade80" font-size="8" text-anchor="middle">release, rollout</text>

  <!-- monitor (bottom-left) -->
  <rect x="290" y="845" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="350" y="863" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">monitor</text>
  <text x="350" y="878" fill="#4ade80" font-size="8" text-anchor="middle">health checks</text>

  <!-- rescue (left) -->
  <rect x="200" y="780" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="260" y="798" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">rescue</text>
  <text x="260" y="813" fill="#4ade80" font-size="8" text-anchor="middle">incident + fix</text>

  <!-- refactor (top-left) - returns to design -->
  <rect x="270" y="720" width="120" height="40" rx="4" fill="#14532d" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="330" y="738" fill="#bbf7d0" font-size="11" text-anchor="middle" font-weight="bold">refactor</text>
  <text x="330" y="753" fill="#4ade80" font-size="8" text-anchor="middle">back to design</text>

  <!-- Arrows forming the cycle -->
  <!-- design -> plan -->
  <line x1="550" y1="720" x2="610" y2="735" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- plan -> craft -->
  <line x1="730" y1="755" x2="740" y2="780" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- craft -> debug -->
  <line x1="780" y1="820" x2="760" y2="845" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- debug -> deploy -->
  <line x1="680" y1="870" x2="610" y2="880" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- deploy -> monitor -->
  <line x1="490" y1="885" x2="410" y2="870" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- monitor -> rescue -->
  <line x1="290" y1="855" x2="320" y2="815" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- rescue -> refactor -->
  <line x1="270" y1="780" x2="310" y2="760" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>
  <!-- refactor -> design -->
  <line x1="390" y1="730" x2="430" y2="722" stroke="#22c55e" stroke-width="1.5" marker-end="url(#a-green)"/>

  <!-- Entry arrow from process manager to initiate_division -->
  <line x1="480" y1="640" x2="480" y2="700" stroke="#a855f7" stroke-width="2" marker-end="url(#a-purple)"/>
  <text x="485" y="674" fill="#d8b4fe" font-size="9">initiate_division_v1</text>

  <!-- Lifecycle protocol note -->
  <text x="100" y="710" fill="#86efac" font-size="9">Each phase: start_phase</text>
  <text x="100" y="724" fill="#86efac" font-size="9">pause_phase / resume_phase</text>
  <text x="100" y="738" fill="#86efac" font-size="9">complete_phase</text>

  <!-- Dashed phases note -->
  <text x="50" y="868" fill="#4ade80" font-size="9">Dashed border = future (types only in frontend)</text>
  <text x="50" y="882" fill="#4ade80" font-size="9">Solid border = implemented</text>

</svg>